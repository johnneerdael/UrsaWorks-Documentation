import{_ as i,o as a,c as o,ae as s}from"./chunks/framework.BD9pLfSD.js";const p=JSON.parse('{"title":"Security","description":"","frontmatter":{},"headers":[],"relativePath":"security.md","filePath":"security.md"}'),t={name:"security.md"};function r(n,e,l,d,c,u){return a(),o("div",null,[...e[0]||(e[0]=[s('<h1 id="security" tabindex="-1">Security <a class="header-anchor" href="#security" aria-label="Permalink to &quot;Security&quot;">​</a></h1><h2 id="authentication" tabindex="-1">Authentication <a class="header-anchor" href="#authentication" aria-label="Permalink to &quot;Authentication&quot;">​</a></h2><ul><li><strong>Google OAuth2</strong> is required for application access</li><li>Email validation against an approved-users allowlist</li><li>Case-insensitive email matching</li><li>OAuth secrets are server-side only</li><li>The server does <strong>not</strong> store any URSA session values (URSA cookie/user-agent) long-term; those are provided by the client when needed</li></ul><h2 id="ursa-session" tabindex="-1">URSA Session <a class="header-anchor" href="#ursa-session" aria-label="Permalink to &quot;URSA Session&quot;">​</a></h2><ul><li><strong>Two separate logins</strong>: UrsaWorks (Google) + URSA (cookie + user agent)</li><li>URSA session data stored in browser sessionStorage</li><li>Cleared when you log out or close the tab</li><li>Manual session inputs saved in localStorage (you can clear it)</li><li>URSA login <strong>must match</strong> the Google-authenticated email; mismatches are rejected during session verification</li></ul><h2 id="authorization" tabindex="-1">Authorization <a class="header-anchor" href="#authorization" aria-label="Permalink to &quot;Authorization&quot;">​</a></h2><ul><li><strong>Approval pools</strong> from URSA determine which approvals/configs you can see (URSA is the source of truth)</li><li>UrsaWorks does not maintain separate “approval groups” for authorization; it uses URSA-derived catalogs and per-user visibility settings in the UI</li><li>Shared resources (e.g., shared profiles) are readable when there is URSA approval-pool overlap between users</li></ul><h2 id="data-handling" tabindex="-1">Data Handling <a class="header-anchor" href="#data-handling" aria-label="Permalink to &quot;Data Handling&quot;">​</a></h2><ul><li>UrsaWorks does <strong>not</strong> store URSA session server-side</li><li>Run history and rules stored in UrsaWorks database</li><li>All actions forwarded to URSA with your session</li></ul><h2 id="csrf-browser-protections" tabindex="-1">CSRF &amp; Browser Protections <a class="header-anchor" href="#csrf-browser-protections" aria-label="Permalink to &quot;CSRF &amp; Browser Protections&quot;">​</a></h2><ul><li>Google OAuth uses a signed <code>state</code> cookie and verifies it on callback (CSRF protection for the OAuth flow)</li><li>UrsaWorks API authentication uses a signed, <code>httpOnly</code> session cookie</li><li>For state-changing API requests, UrsaWorks relies primarily on browser cookie protections (SameSite defaults) and same-site deployments</li><li>If UrsaWorks is hosted cross-site or embedded, consider hardening with explicit <code>SameSite</code> cookie settings, strict CORS allowlists, and/or Origin/Referer checks (and a CSRF token if needed)</li></ul><h2 id="companion-security" tabindex="-1">Companion Security <a class="header-anchor" href="#companion-security" aria-label="Permalink to &quot;Companion Security&quot;">​</a></h2><ul><li>OAuth redirect URIs allowlisted server-side</li><li>Mobile companions use HTTPS-based deep links</li><li>Desktop companion registers local OAuth scheme</li></ul><h2 id="admin-controls" tabindex="-1">Admin Controls <a class="header-anchor" href="#admin-controls" aria-label="Permalink to &quot;Admin Controls&quot;">​</a></h2><ul><li>Admin role required for user management</li><li>Admins manage the approved-users allowlist and can delete profiles (metadata-only)</li><li>Shared resources respect ownership and URSA approval-pool overlap visibility</li></ul>',15)])])}const m=i(t,[["render",r]]);export{p as __pageData,m as default};
